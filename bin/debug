#!/usr/bin/env bash

if [ -z $1 ]; then
  echo 'ğŸª² CLI XDebug toggle'
  echo 'usage debug [on|off|coverage]'
  exit 1
fi

if [[ $1 == 'on' ]]; then
    echo ''
    echo 'ğŸª² enabling XDebugï¸, run the following:'
    echo ''
    echo "export XDEBUG_MODE=debug
export XDEBUG_SESSION=PHPSTORM"
    echo ''
    exit 0;
fi

if [[  $1 == 'off'  ]]; then
    echo ''
    echo 'ğŸ”» disaï¸bï¸ling XDebugï¸, run the following:'
    echo ''
    echo "export XDEBUG_MODE=off
unset XDEBUG_SESSION"
    echo ''
    exit 0
fi

if [[ $1 == 'coverage' ]]; then
    echo ''
    echo 'ğŸª² enabling XDebug with coverageï¸, run the following:'
    echo ''
    echo "export XDEBUG_MODE=coverage
export XDEBUG_SESSION=PHPSTORM"
    echo ''
    exit 0;
fi

echo 'ğŸ’€ Invalid argument.'
exit 1


